{"version":3,"sources":["services/persons.js","components/Filter.js","components/Persons.js","components/PersonForm.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","personsService","getAll","axios","get","create","newObject","post","update","id","put","remove","delete","Filter","handleChange","filter","onChange","value","Persons","personsToShow","handleDelete","map","name","number","onClick","PersonForm","handleSubmit","handleChangeName","handleChangeNumber","newName","newNumber","onSubmit","type","Notification","status","message","className","App","useState","persons","setPersons","setNewName","setNewNumber","setFilter","person","toLowerCase","includes","notificationMessage","setNotificationMessage","notificationStatus","setNotificationStatus","useEffect","then","response","console","log","data","handleNotification","setTimeout","e","target","preventDefault","length","window","confirm","find","p","changedPerson","item","personObject","concat","catch","error","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5e89f71f.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = 'https://hidden-beach-43408.herokuapp.com/api/persons'\n\nconst getAll = () => {\n\treturn axios.get(baseUrl)\n}\n\nconst create = (newObject) => {\n\treturn axios.post(baseUrl, newObject)\n}\n\nconst update = (id, newObject) => {\n\treturn axios.put(`${baseUrl}/${id}`, newObject)\n}\n\nconst remove = (id) => {\n\treturn axios.delete(`${baseUrl}/${id}`)\n}\n\nconst personsService = { getAll, create, update, remove }\n\nexport default personsService\n","const Filter = ({ handleChange, filter }) => {\n  return (\n    <div>\n      filter shown with: <input onChange={handleChange} value={filter} />\n    </div>\n  );\n};\n\nexport default Filter;\n","const Persons = ({ personsToShow, handleDelete }) => {\n\treturn (\n\t\t<>\n\t\t\t{personsToShow.map(({ id, name, number }) => (\n\t\t\t\t<p key={name}>\n\t\t\t\t\t{name} {number}\n\t\t\t\t\t<button onClick={() => handleDelete(id, name)}>delete</button>\n\t\t\t\t</p>\n\t\t\t))}\n\t\t</>\n\t)\n}\n\nexport default Persons\n","const PersonForm = ({ handleSubmit, handleChangeName, handleChangeNumber, newName, newNumber }) => {\n\treturn (\n\t\t<form onSubmit={handleSubmit}>\n\t\t\t<div>\n\t\t\t\tname: <input onChange={handleChangeName} value={newName} />\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\tnumber: <input onChange={handleChangeNumber} value={newNumber} />\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<button type='submit'>add</button>\n\t\t\t</div>\n\t\t</form>\n\t)\n}\n\nexport default PersonForm\n","const Notification = ({ status, message }) => {\n\tif (message === null) {\n\t\treturn null\n\t}\n\n\treturn <div className={`notification ${status}`}>{message}</div>\n}\n\nexport default Notification\n","import React, { useState, useEffect } from 'react'\n\nimport personsService from './services/persons'\n\nimport Filter from './components/Filter'\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport Notification from './components/Notification'\n\nconst App = () => {\n\tconst [persons, setPersons] = useState([])\n\tconst [newName, setNewName] = useState('')\n\tconst [newNumber, setNewNumber] = useState('')\n\tconst [filter, setFilter] = useState('')\n\tconst personsToShow = persons.filter((person) => person.name.toLowerCase().includes(filter.toLowerCase()))\n\tconst [notificationMessage, setNotificationMessage] = useState(null)\n\tconst [notificationStatus, setNotificationStatus] = useState('')\n\n\tuseEffect(() => {\n\t\tpersonsService.getAll().then((response) => {\n\t\t\tconsole.log(response)\n\t\t\tsetPersons(response.data)\n\t\t})\n\t}, [])\n\n\tconst handleChangeName = (e) => setNewName(e.target.value)\n\tconst handleChangeNumber = (e) => setNewNumber(e.target.value)\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault()\n\n\t\tif (persons.filter((person) => person.name === newName).length > 0) {\n\t\t\tif (\n\t\t\t\twindow.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)\n\t\t\t) {\n\t\t\t\tconst person = persons.find((p) => p.name === newName)\n\t\t\t\tconst changedPerson = { ...person, number: newNumber }\n\t\t\t\tpersonsService.update(person.id, changedPerson).then((response) => {\n\t\t\t\t\tsetPersons(persons.map((item) => (item.id !== person.id ? item : changedPerson)))\n\t\t\t\t})\n\t\t\t}\n\t\t} else {\n\t\t\tconst personObject = {\n\t\t\t\tname: newName,\n\t\t\t\tnumber: newNumber,\n\t\t\t}\n\n\t\t\tpersonsService.create(personObject).then((response) => {\n\t\t\t\tsetPersons(persons.concat(personObject))\n\t\t\t\thandleNotification('success', `Added ${newName}`)\n\t\t\t\tsetNewName('')\n\t\t\t\tsetNewNumber('')\n\t\t\t})\n\t\t}\n\t}\n\n\tconst handleNotification = (status, message) => {\n\t\tsetNotificationStatus(status)\n\t\tsetNotificationMessage(message)\n\t\tsetTimeout(() => {\n\t\t\tsetNotificationMessage(null)\n\t\t}, 4000)\n\t}\n\n\tconst handleDelete = (id, name) => {\n\t\tif (window.confirm(`Delete ${name} ?`)) {\n\t\t\tpersonsService\n\t\t\t\t.remove(id)\n\t\t\t\t.then((response) => {\n\t\t\t\t\tsetPersons(persons.filter((p) => p.id !== id))\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\thandleNotification('error', `Information of ${name} has already been removed from server`)\n\t\t\t\t})\n\t\t}\n\t}\n\n\tconst handleChangeFilter = (e) => setFilter(e.target.value)\n\n\treturn (\n\t\t<div>\n\t\t\t<h2>Phonebook</h2>\n\t\t\t<Notification status={notificationStatus} message={notificationMessage} />\n\t\t\t<Filter handleChange={handleChangeFilter} filter={filter} />\n\t\t\t<h3>Add a new</h3>\n\t\t\t<PersonForm\n\t\t\t\thandleSubmit={handleSubmit}\n\t\t\t\thandleChangeName={handleChangeName}\n\t\t\t\thandleChangeNumber={handleChangeNumber}\n\t\t\t\tnewName={newName}\n\t\t\t\tnewNumber={newNumber}\n\t\t\t/>\n\t\t\t<h3>Numbers</h3>\n\t\t\t<Persons personsToShow={personsToShow} handleDelete={handleDelete} />\n\t\t</div>\n\t)\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n)\n"],"sourceRoot":""}